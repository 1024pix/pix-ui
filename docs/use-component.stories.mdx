import { Meta } from '@storybook/addon-docs';

<Meta title="Utiliser Pix UI/Utiliser un composant" />

# Utiliser un composant

Pour utiliser un composant dans une application Ember, on peut se r√©f√©rer √† la documentation de ce composant.

Par exemple, pour `PixMessage`, [la documentation](https://storybook.pix.fr/?path=/docs/notification-message--message)
nous indique :

```hbs
<PixMessage @type='info' @withIcon='true'>
  Ceci est un message √† caract√®re informatif.
</PixMessage>
```

La documentation d'un composant liste tous les arguments accept√©s par le composant, notamment les arguments requis
pour le fonctionnement du composant. On peut tester le rendu du composant en fonction de ses arguments dans l'onglet
Canvas de storybook.

## Bonnes pratiques

### √âviter de surcharger le CSS

Si l'on veut changer l'apparence d'un composant, il faut se poser plusieurs questions au pr√©alable.

Veut-on voir ce changement √† chaque utilisation du composant ? Dans ce cas, il faut mieux modifier directement le
composant dans Pix UI, en ouvrant une pull request, plut√¥t que de surcharger une instanciation dans l'application front.

Dans le cas o√π le changement est tr√®s sp√©cifique, il est recommand√© de ne pas surchager les classes CSS du composant
Pix UI.

Par exemple, le rendu du composant PixMessage sera :

```html
<div class="pix-message"></div>
```

‚ö†Ô∏è NE PAS surcharger directement la classe du composant en faisant :

```css
.pix-message {
  color: pink;
}
```

üëçüèª Ajouter plut√¥t une nouvelle classe au composant avec l'attribut `class` :

```hbs
<PixMessage @type='info' @withIcon='true' class='message-rose'>
  Ceci est un message √† caract√®re informatif rose.
</PixMessage>
```

```css
.message-rose {
  color: pink;
}
```

Si cela ne fonctionne pas, v√©rifier dans Pix UI que le composant h√©rite des attributs gr√¢ce √† l'argument `...attributes`
et que cet argument soit plac√© en dernier pour qu'il puisse surchager les attributs par d√©faut du composant.

```hbs
<p class='pix-message {{concat "pix-message--" this.type}}' ...attributes>
  ...
</p>
```

### Tester l'accessibilit√©

L'accessibilit√© du composant lui-m√™me est d√©j√† test√© par Storybook, voir
[Bonnes Pratiques / Accessibilit√©](/?path=/docs/d√©veloppement-bonnes-pratiques-accessibilit√©--page).

Mais il faut aussi v√©rifier son accessibilit√© une fois composant int√©gr√© dans l'application front.
_Par exemple, le libell√© √©tant sp√©cifique √† chaque bouton, il doit √™tre d√©fini √† l'instanciation._

Pour tester l'accessibilit√©, on peut utiliser [l'extension Wave](https://wave.webaim.org/extension/) (Chrome et Firefox).

Voici quelques liens utiles :

- https://github.com/1024pix/pix/blob/dev/docs/Accessibilite.md
- https://1024pix.atlassian.net/wiki/spaces/DEV/pages/2856288297/2021-05-27+-+Compte-rendu+Atelier+accessibilit+Tanaguru+les+devs

### Ic√¥nes utilis√©es par un composant

Si une ic√¥ne n'appara√Æt pas lorsqu'un composant est instanci√©, il faut v√©rifier que l'ic√¥ne est bien d√©clar√©e dans le
fichier `config/icons.js` de l'application concern√©e.
_Par exemple, `PixBanner` utilise l'ic√¥ne `info-circle`, il faut penser √† l'ajouter au fichier `icons.js`._
