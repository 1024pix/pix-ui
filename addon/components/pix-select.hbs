<div class="pix-select">

  {{#if @isSearchable}}

    {{#if @isValidationActive}}
      <input
        list="{{this.datalistId}}"
        {{on "input" this.onChange}}
        class={{if this.isValueAValidOption "pix-select--is-valid"}}
        ...attributes
      />
    {{else}}
      <input list="{{this.datalistId}}" {{on "input" this.onChange}} ...attributes />
    {{/if}}

    <datalist id={{this.datalistId}}>
      {{#each @options as |opt|}}
        <option label={{opt.label}}>{{opt.label}}</option>
      {{/each}}
    </datalist>

  {{else}}

    <select {{on 'change' this.onChange}} ...attributes>
      {{#if (not-eq @emptyOptionLabel undefined)}}
        {{#if @emptyOptionNotSelectable}}
          <option value="" hidden>{{@emptyOptionLabel}}</option>
        {{else}}
          <option value="">{{@emptyOptionLabel}}</option>
        {{/if}}
      {{/if}}
      {{#each @options as |opt|}}
        <option value={{opt.value}} defaultSelected={{eq @selectedOption opt.value}}>
          {{opt.label}}
        </option>
      {{/each}}
    </select>
    <FaIcon class='pix-select__icon' @icon="chevron-down" />

  {{/if}}
</div>
