import { Meta, Story, ArgTypes } from '@storybook/blocks';
import * as ComponentStories from './pix-input.stories';

<Meta of={ComponentStories} />

# Pix Input

Le PixInput permet de cr√©er un champ de texte.

## Accessibilit√©

La propri√©t√© label est optionnelle pour le composant.

Mais au niveau de l'accessibilit√©, il est quand m√™me n√©cessaire que le champ soit rattach√© √† un label.

Il y a alors plusieurs possibilit√©s :

- Vous pouvez cacher le label visuellement mais le rendre disponible pour les lecteurs d'√©cran via la propri√©t√© `screenReaderOnly` √† `true`.
- Les attributs `aria-label` et `aria-labelledby` sont utilisables.
- Un attribut `@for` pointant vers l'id de l'input peut √™tre ajout√© √† un composant `<PixLabel />` ext√©rieur.

## Tests

Pour acceder √† l'√©l√©ment via son label avec testing-library:

```html
<PixInput @id="firstName" />
  <:label>Pr√©nom</:label>
</PixInput>
```

```javascript
screen.getByLabelText('Pr√©nom');
```

Si le param√®tre @subLabel est utilis√©, il faudra concatener les valeurs de `label` et `@subLabel`

```html
<PixInput @id="firstName" @subLabel="exemple: Barry">
  <:label>Pr√©nom</:label>
</PixInput>
```

```javascript
screen.getByLabelText('Pr√©nom exemple: Barry');
```

## Default

<Story of={ComponentStories.Default} height={100} />

## With label and subLabel

<Story of={ComponentStories.withLabel} height={110} />

## Error state (with error message)

<Story of={ComponentStories.errorState} height={110} />

## Success state

<Story of={ComponentStories.successState} height={100} />

## Disabled & readonly states

[üìñ Lire la diff√©rence entre les 2 √©tats.](https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes/readonly#attribute_interactions)

#### Disabled

Un input d√©sactiv√© n'est pas focusable et n'est pas cens√© √™tre envoy√© √† la soumission de formulaire.

<Story of={ComponentStories.disabledState} height={100} />

#### Readonly

En readonly, l'input n'est pas modifiable, mais il est toujours focusable et est soumis normalement.

<Story of={ComponentStories.readonlyState} height={100} />

## With required label

<Story of={ComponentStories.withRequiredLabel} height={100} />

## Without label

<Story of={ComponentStories.withoutLabel} height={100} />

## Usage

```html
<PixInput
  @id="firstName"
  @subLabel="Compl√©ment du label"
  @errorMessage="Un message d`erreur"
  @validationStatus="default"
  @requiredLabel="Champ obligatoire"
>
  <:label>Pr√©nom</:label>
</PixInput>
```

## Arguments

<ArgTypes of={ComponentStories} />
