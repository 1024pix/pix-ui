import { Meta, Story, Canvas, ArgsTable } from '@storybook/addon-docs/blocks';
import centered from '@storybook/addon-centered/ember';
import * as stories from './pix-multi-select.stories.js';

<Meta
  title='Form/Multi Select'
  component='Multi Select'
  argTypes={stories.argTypes}
/>

# Pix Multi Select

Un select custom permettant une gestion de la multiselection. Permet de passer soit du texte brut soit des composants à sa liste. (PixStars etc...)
L'ajout de ``class`` et d'autres attributs comme ``aria-label`` sont possibles.

> ⚠️ La démonstration de PixMultiSelect NE fonctionne PAS comme prévu dans storybook (mais fonctionne très bien sur les app fronts). Pour plus d'informations, voir https://github.com/1024pix/pix-ui/pull/76.

## With child component
<Canvas>
  <Story name="With child component" story={stories.multiSelectWithChildComponent} height={310} />
</Canvas>

## Searchable
<Canvas>
  <Story name="Searchable" story={stories.multiSelectSearchable} height={330}/>
</Canvas>

## With async options

Via la propriété `onLoadOptions`, le composant peut charger lui-même les options de manière asynchrone.
Le callback `onLoadOptions` est une promesse renvoyant la liste des options. (eg. `[{ label: 'A', value: '1' }]`).

Il est possible de donner un message via `loadingMessage` à afficher à la place des options pendant que celles-ci soient chargées.

<Canvas>
  <Story name="With async options" story={stories.multiSelectAsyncOptions} height={330}/>
</Canvas>

## Usage

```html
<PixMultiSelect
  @title={{title}}
  @emptyMessage={{emptyMessage}}
  @id={{id}}
  @onSelect={{doSomething}}
  @selected={{selected}}
  @options={{options}} as |option|>
  {{option.label}}
</PixMultiSelect>
```

## Arguments

<ArgsTable story="Searchable" />
